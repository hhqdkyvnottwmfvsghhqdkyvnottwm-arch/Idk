-- âš¡ Rizz Tower Mini GUI V4
-- ðŸ’¥ Made by Roblox Hacks 404
-- Features: Set Point + Teleport Back + Auto Teleport + Draggable + Animated Toggle (G)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RizzTowerMiniGUI"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = playerGui

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 240, 0, 260)
frame.Position = UDim2.new(0, 30, 0.5, -130)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
frame.BorderSizePixel = 0
frame.Visible = true
frame.Parent = screenGui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 14)

-- Drop shadow
local shadow = Instance.new("ImageLabel")
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.new(0, 0, 0)
shadow.ImageTransparency = 0.5
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.Size = UDim2.new(1, 20, 1, 20)
shadow.Position = UDim2.new(0, -10, 0, -10)
shadow.ZIndex = -1
shadow.Parent = frame

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 32)
titleBar.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
titleBar.BorderSizePixel = 0
titleBar.Parent = frame
Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 14)

-- Title Label
local title = Instance.new("TextLabel")
title.Text = "âš¡ Rizz Tower Mini GUI âš¡"
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 215, 100)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = titleBar

-- Status Labels
local statusLabel = Instance.new("TextLabel")
statusLabel.Text = "No point set"
statusLabel.Size = UDim2.new(1, -20, 0, 20)
statusLabel.Position = UDim2.new(0, 10, 0, 40)
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 14
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.Parent = frame

local coordsLabel = Instance.new("TextLabel")
coordsLabel.Text = "X: -, Y: -, Z: -"
coordsLabel.Size = UDim2.new(1, -20, 0, 20)
coordsLabel.Position = UDim2.new(0, 10, 0, 60)
coordsLabel.BackgroundTransparency = 1
coordsLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
coordsLabel.Font = Enum.Font.Gotham
coordsLabel.TextSize = 12
coordsLabel.TextXAlignment = Enum.TextXAlignment.Left
coordsLabel.Parent = frame

-- Buttons
local setButton = Instance.new("TextButton")
setButton.Text = "Set Point"
setButton.Size = UDim2.new(1, -20, 0, 40)
setButton.Position = UDim2.new(0, 10, 0, 90)
setButton.BackgroundColor3 = Color3.fromRGB(70, 120, 200)
setButton.TextColor3 = Color3.new(1, 1, 1)
setButton.Font = Enum.Font.GothamSemibold
setButton.TextSize = 16
setButton.Parent = frame
Instance.new("UICorner", setButton).CornerRadius = UDim.new(0, 8)

local tpButton = Instance.new("TextButton")
tpButton.Text = "Teleport To Point"
tpButton.Size = UDim2.new(1, -20, 0, 40)
tpButton.Position = UDim2.new(0, 10, 0, 140)
tpButton.BackgroundColor3 = Color3.fromRGB(200, 100, 70)
tpButton.TextColor3 = Color3.new(1, 1, 1)
tpButton.Font = Enum.Font.GothamSemibold
tpButton.TextSize = 16
tpButton.Parent = frame
Instance.new("UICorner", tpButton).CornerRadius = UDim.new(0, 8)

-- NEW Auto Teleport Button
local autoTpButton = Instance.new("TextButton")
autoTpButton.Text = "Auto Teleport Save Position Fast"
autoTpButton.Size = UDim2.new(1, -20, 0, 40)
autoTpButton.Position = UDim2.new(0, 10, 0, 190)
autoTpButton.BackgroundColor3 = Color3.fromRGB(120, 200, 100)
autoTpButton.TextColor3 = Color3.new(1, 1, 1)
autoTpButton.Font = Enum.Font.GothamSemibold
autoTpButton.TextSize = 14
autoTpButton.Parent = frame
Instance.new("UICorner", autoTpButton).CornerRadius = UDim.new(0, 8)

-- Variables
local savedPosition = nil
local autoTeleportEnabled = false
local guiVisible = true

-- Update coords
local function updateCoords()
	if savedPosition then
		coordsLabel.Text = string.format("X: %d, Y: %d, Z: %d", savedPosition.X, savedPosition.Y, savedPosition.Z)
	else
		coordsLabel.Text = "X: -, Y: -, Z: -"
	end
end

-- Flash Button
local function flashButton(btn, color)
	local tween = TweenService:Create(btn, TweenInfo.new(0.25, Enum.EasingStyle.Sine), {BackgroundColor3 = color})
	tween:Play()
	task.wait(0.25)
	TweenService:Create(btn, TweenInfo.new(0.25, Enum.EasingStyle.Sine), {BackgroundColor3 = Color3.fromRGB(70, 120, 200)}):Play()
end

-- Save Position
setButton.MouseButton1Click:Connect(function()
	local char = player.Character or player.CharacterAdded:Wait()
	local hrp = char:FindFirstChild("HumanoidRootPart")
	if not hrp then return end

	savedPosition = hrp.Position
	statusLabel.Text = "Point saved!"
	statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
	setButton.Text = "âœ“ Saved!"
	updateCoords()
	flashButton(setButton, Color3.fromRGB(0, 200, 0))

	task.delay(2, function()
		setButton.Text = "Set Point"
		statusLabel.Text = "Ready to teleport"
		statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
	end)
end)

-- Teleport Once
tpButton.MouseButton1Click:Connect(function()
	if not savedPosition then
		tpButton.Text = "No Point Set!"
		statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
		flashButton(tpButton, Color3.fromRGB(255, 60, 60))
		task.delay(2, function()
			tpButton.Text = "Teleport To Point"
			statusLabel.Text = "No point set"
			statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
		end)
		return
	end

	local char = player.Character or player.CharacterAdded:Wait()
	local hrp = char:FindFirstChild("HumanoidRootPart")
	if not hrp then return end

	hrp.CFrame = CFrame.new(savedPosition + Vector3.new(0, 3, 0))
	tpButton.Text = "Teleported!"
	flashButton(tpButton, Color3.fromRGB(255, 150, 0))
	task.delay(1.5, function()
		tpButton.Text = "Teleport To Point"
	end)
end)

-- Auto Teleport Toggle
autoTpButton.MouseButton1Click:Connect(function()
	if not savedPosition then
		autoTpButton.Text = "Set Point First!"
		task.wait(1.5)
		autoTpButton.Text = "Auto Teleport Save Position Fast"
		return
	end

	autoTeleportEnabled = not autoTeleportEnabled
	if autoTeleportEnabled then
		autoTpButton.Text = "Auto Teleport: ON"
		autoTpButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
		task.spawn(function()
			while autoTeleportEnabled do
				local char = player.Character
				if char and savedPosition then
					local hrp = char:FindFirstChild("HumanoidRootPart")
					if hrp then
						hrp.CFrame = CFrame.new(savedPosition + Vector3.new(0, 3, 0))
					end
				end
				task.wait(0.3) -- Fast speed teleport loop
			end
		end)
	else
		autoTpButton.Text = "Auto Teleport: OFF"
		autoTpButton.BackgroundColor3 = Color3.fromRGB(120, 200, 100)
	end
end)

-- Drag GUI
local dragging, dragInput, dragStart, startPos
local function updateDrag(input)
	local delta = input.Position - dragStart
	frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end
titleBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then dragging = false end
		end)
	end
end)
titleBar.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)
UIS.InputChanged:Connect(function(input)
	if input == dragInput and dragging then updateDrag(input) end
end)

-- Toggle GUI with [G]
UIS.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.KeyCode == Enum.KeyCode.G then
		guiVisible = not guiVisible
		local goal = {BackgroundTransparency = guiVisible and 0 or 1}
		TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Sine), goal):Play()
		frame.Visible = true
		task.delay(0.3, function()
			if not guiVisible then frame.Visible = false end
		end)
	end
end)
